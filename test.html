<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js"></script>
    <script type="text/javascript">
      async function main() {
        let pyodide = await loadPyodide();
        await pyodide.loadPackage("micropip");
        const micropip = pyodide.pyimport("micropip");
        await micropip.install("boto3");
        await pyodide.runPython(`
        import boto3
        
        print(f"suceuss")
      `);
      }
      main();
    </script>
  </body>
</html>

#import micropip
#await pyodide.loadPackage("micropip")
#micropip = pyodide.pyimport("micropip")
#await micropip.install("boto3")
#import boto3

#s3 = boto3.resource('s3', aws_access_key_id='AKIA5PDTUHUEBBGAN24X',aws_secret_access_key='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')
#bucket_name = "nyucapstone-images"
#image_name = filename + '.png'
#s3.Bucket(bucket_name).upload_file(image_name, image_name)
#print(f"file is uploaded to bucket successfully")




// Initialize the Amazon Cognito credentials provider
AWS.config.region = 'us-east-2'; // Region
AWS.config.credentials = new AWS.CognitoIdentityCredentials({
    IdentityPoolId: 'us-east-2:1913b386-4748-4dbd-b7b4-74f0bbb2e181',
});



//    console.log("HELLLLLOOOO")

//         function addPhoto(albumName) {
//             var albumBucketName = "nyucapstone-images";
//             var bucketRegion = "us-east-2";
//             var IdentityPoolId = "us-east-2:1913b386-4748-4dbd-b7b4-74f0bbb2e181";

//             AWS.config.update({
//             region: bucketRegion,
//             credentials: new AWS.CognitoIdentityCredentials({
//                 IdentityPoolId: IdentityPoolId
//             })
//             });

//             // Create a new service object
//                 var s3 = new AWS.S3({
//                 apiVersion: '2006-03-01',
//                 params: {Bucket: albumBucketName}
//                 });
//             // var files = document.getElementById("photoupload").files;
//             // if (!files.length) {
//             //     return alert("Please choose a file to upload first.");
//             // }
//             // var file = files[0];
//             // var fileName = file.name;
//             var albumPhotosKey = encodeURIComponent(albumName) + "/";

//             var photoKey = albumPhotosKey + "test.txt";

//             // Use S3 ManagedUpload class as it supports multipart uploads
//             var upload = new AWS.S3.ManagedUpload({
//                 params: {
//                 Bucket: albumBucketName,
//                 Key: photoKey,
//                 Body: "hello world"
//                 }
//             });

//             var promise = upload.promise();

//             promise.then(
//                 function(data) {
//                 alert("Successfully uploaded photo.");
//                 },
//                 function(err) {
//                 return alert("There was an error uploading your photo: ", err.message);
//                 }
//             );
//             }



var albumBucketName = "nyucapstone-images";
var bucketRegion = "us-east-2";
var IdentityPoolId = "us-east-2:1913b386-4748-4dbd-b7b4-74f0bbb2e181";

AWS.config.update({
region: bucketRegion,
credentials: new AWS.CognitoIdentityCredentials({
    IdentityPoolId: IdentityPoolId
})
});

var s3 = new AWS.S3({
    apiVersion: '2006-03-01',
    params: {Bucket: albumBucketName}
});








// function uploadfiletoaws(albumName) {


  //     AWS.config.region = 'us-east-2'
  //     const credentials = new AWS.CognitoIdentityCredentials({
  //         IdentityPoolId: 'us-east-2:1913b386-4748-4dbd-b7b4-74f0bbb2e181',
  //     })
  //     const locationClient = new AWS.Location({
  //         credentials,
  //     })
     
  // }